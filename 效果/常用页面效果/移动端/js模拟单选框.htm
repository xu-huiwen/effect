<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
	<title>js模拟单选</title>
	<style>
		/*Reset*/
		body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td{margin:0;padding:0;}
		table{border-collapse:collapse;border-spacing:0;}
		address,caption,cite,code,dfn,em,strong,th,var{font-weight:normal;font-style:normal;}
		ol,ul{list-style:none;}
		h1,h2,h3,h4,h5,h6{font-weight:normal;font-size:100%;}
		q:before,q:after{content:'';}
		fieldset,img,abbr,acronym{border:0;}

		.list {width: 1000px;margin: 0 auto;}
		.list li {width: 20px;height: 20px;border: 1px solid #ccc; margin: 10px;cursor: pointer;overflow: hidden;}
		.list .on {background-color: #f00;}
		.listB .on {background-color:#0f0;}
	</style>
</head>
<body>
	<ul class="list">
		<li class="item on"></li>
		<li class="item"></li>
		<li class="item"></li>
		<li class="item"></li>
		<li class="item"></li>
	</ul>
	<ul class="list listB">
		<li class="itemB on"></li>
		<li class="itemB"></li>
		<li class="itemB"></li>
		<li class="itemB"></li>
		<li class="itemB"></li>
	</ul>
	<script>
		function hasClass(o, c) {
			var regexp = new RegExp("(^|\\s)" + c + "(\\s|$)", "g");
			return regexp.test(o.className)
		}
		function single(o) {
			var objs = document.querySelectorAll(o);
			for (var i = 0; i < objs.length; i++) {
				objs[i].addEventListener('click', function(e) {
					if (!hasClass(this, 'on')) {
						for (var j = 0; j < objs.length; j++) {
							objs[j].classList.remove('on');
						}
						this.classList.add('on');
					}
				})
			}
		}
		single ('.item');
		single ('.itemB');
	</script>
</body>
</html>