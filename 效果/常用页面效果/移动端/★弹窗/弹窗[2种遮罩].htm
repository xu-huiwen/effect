<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>Document</title>
	<style>
		* {margin:0;padding:0;border:0;}
		.wrap {height:2000px;}
		#pop-mask {position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.7);}
		#pop-mask2 {position:absolute;left:0;top:0;width:100%;height:100%;background:rgba(255,255,255,0.7);}
		.pop {position:fixed;left:50%;top:50%;display:none;z-index:999;
			width:300px;height:300px;margin-left:-150px;margin-top:-150px;background-color:#00f;border-radius:10px;
		}
		.pop-close {color:#fff;}
	</style>
</head>
<body>
		<div class="wrap">
			<a href="javascript:pop('.pop1','pop-mask')">弹窗1</a>
			<a href="javascript:pop('.pop2','pop-mask2')">弹窗2</a>
		</div>
		<div class="pop pop1">内容1</div>
		<div class="pop pop2">内容2 <a class="pop-close" href="javascript:hidePopOk('.pop2','pop-mask')">确定</a></div>
<script>
function gE(e) {
	return document.querySelector(e)
}

function pop(e,mask) {
	if (!gE('#'+mask)) {
		gE(e).style.display = "block";
		var bgObj = document.createElement("div");
		bgObj.setAttribute('id', mask);
		document.body.appendChild(bgObj);
		var conH = document.body.scrollHeight,
			viewH = document.documentElement.clientHeight;
		if (conH > viewH) {
			gE('#'+mask).style.height = conH + "px";
		} else {
			gE('#'+mask).style.height = viewH + "px";
		}
		hidePop(e,mask);
	}
}

function hidePop(e,mask) {
	gE('#'+mask).addEventListener('click', function() {
		gE(e).style.display = "none";
		var bgObj = gE("#"+mask);
		document.body.removeChild(bgObj);
	});
}

function hidePopOk(e,mask) {
	gE(e).style.display = "none";
	var bgObj = gE("#"+mask);
	document.body.removeChild(bgObj);
}
</script>
</body>
</html>