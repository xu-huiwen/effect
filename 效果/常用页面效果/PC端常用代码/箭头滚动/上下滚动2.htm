<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>上下滚动</title>
	<style>
		*{margin:0;padding:0;border:0;}
		ul{list-style-type:none;}
		.c:before,.c:after {content:"";display:table;}
		.c:after {clear:both;}
		.c {zoom:1;}
		.prev,.next {display:block;background-color:#f00;cursor:pointer;text-align:center;width:100%;height:20px;}
		.scroll-box {width:500px;margin:0 auto;}
		.scroll-list-box {height:150px;overflow:hidden;width:100%;position:relative;}
		.scroll-list {position:relative;}
		.scroll-list li {float:left;width:100%;background-color:#ccc;height:50px;line-height:50px;text-align:center;}
	</style>
</head>
<body>
<div class="scroll-box">
    <a id="prev" class="prev">prev</a>
    <div class="scroll-list-box">
        <ul id="scroll-list" class="scroll-list c">
        	<li>内容1</li>
        	<li>内容2</li>
        	<li>内容3</li>
        	<li>内容4</li>
        	<li>内容5</li>
        	<li>内容6</li>
        	<li>内容7</li>
        	<li>内容8</li>
        	<li>内容9</li>
        	<li>内容10</li>
        	<li>内容11</li>
        	<li>内容12</li>
        	<li>内容13</li>
        	<li>内容14</li>
        	<li>内容15</li>
        	<li>内容16</li>
        	<li>内容17</li>
        	<li>内容18</li>
        	<li>内容19</li>
        	<li>内容20</li>
        	<li>内容21</li>
        </ul>
    </div>
    <a id="next" class="next">next</a>
</div>
<script>
function g(e) {
    return (typeof (e) == "object") ? e : document.getElementById(e)
}
g("prev").onclick = function() {
	var n = now - 1;
	if (n > 0) {
		move('scroll-list', n, 150, "top");
		now--;
	} else if (n == 0) {
		move('scroll-list', 0, -150, "top");
		now = 0;
	}
}
g("next").onclick = function() {
	var n = now + 1;
	if (n < num) {
		move('scroll-list', n, 150, "top");
		now++;
	} else {
		now = num - 1;
	}
}
function move(vid, e, cnt, sty) {
	var ab = {
			obj: g(vid),
			mlen: cnt
		},
		nowtop = e * ab.mlen,
		af = {
			mv: function(t, b, c, d) {
				return (t == d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;
			},
			run: function(t, b, c, d) {
				t++;
				(sty == "top") ? (ab.obj.style.top = -Math.ceil(af.mv(t, b, c, d)) + "px") : (ab.obj.style.left = -Math.ceil(af.mv(t, b, c, d)) + "px");
				if (t < d) {
					setTimeout(function() {
						af.run(t, b, c, d)
					}, 5);
				}
			},
			go: function() {
				var b, c;
				(sty == "top") ? (b = Math.abs(parseInt(ab.obj.style.top))) : (b = Math.abs(parseInt(ab.obj.style.left)));
				if (!b) {
					b = 0
				};
				c = nowtop - b;
				af.run(0, b, c, 40);
			}
		},
		s = af.go();
}

var cur = 7,
    now = Math.floor(cur / 3),
    lang = g('scroll-list').getElementsByTagName('li').length-1;
	num = Math.floor(lang % 3) > 0 ? Math.floor(lang / 3) + 1 : Math.floor(lang / 3);
move('scroll-list', now, 150, "top");
</script>
</body>
</html>