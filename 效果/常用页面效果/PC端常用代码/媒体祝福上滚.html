<!doctype html>
<html lang="en">
<head>
	<meta charset="gb2312">
	<title>Document</title>
	<style>
		/* reset */
		body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td{margin:0;padding:0;}
		table{border-collapse:collapse;border-spacing:0;}
		address,caption,cite,code,dfn,em,strong,th,var{font-weight:normal;font-style:normal;}
		ol,ul{list-style:none;}
		h1,h2,h3,h4,h5,h6{font-weight:normal;font-size:100%;}
		q:before,q:after{content:'';}
		fieldset,img,abbr,acronym{border:0;}
		
		.scroll {width: 200px;height: 200px;overflow: hidden;position: relative;}
			.list {position: absolute;left: 0;top: 0;}
				.list li {width: 200px;height: 200px;background-color: #ccc;}
	</style>
</head>
<body>
	<div class="scroll" id="scroll">
		<ul class="list">
			<li>内容1</li>
			<li>内容2</li>
			<li>内容3</li>
			<li>内容4</li>
			<li>内容5</li>
		</ul>
	</div>

<script>
	//获取ID
	var $ = function (id) {return typeof id === "string" ? document.getElementById(id) : id};
	//获取tagName
	var $$ = function (tagName, oParent) {return (oParent || document).getElementsByTagName(tagName)};
	//自动播放对象
	var AutoPlay = function (id) {this.initialize(id)};
	AutoPlay.prototype = {
		initialize: function (id)
		{
			var oThis = this;
			this.oBox = $(id);
			this.oUl = $$("ul", this.oBox)[0];
			this.aImg = $$("li", this.oBox);
			this.count = Math.ceil(this.aImg.length);
			this.timer = null;
			this.autoTimer = null;
			this.iNow = 0;
			this.toggle();
			this.autoTimer = setInterval(function ()
			{
				oThis.next()
			}, 5000);		
			this.oBox.onmouseover = function ()
			{
				clearInterval(oThis.autoTimer)
			};
			this.oBox.onmouseout = function ()
			{
				oThis.autoTimer = setInterval(function ()
				{
					oThis.next()
				}, 5000)	
			};
		},
		toggle: function ()
		{
			this.doMove(-(this.iNow * this.aImg[0].offsetHeight))
		},
		next: function ()
		{	
			this.iNow++;
			if(this.iNow == this.count){
			   this.iNow = 0;
			}
			this.toggle();
		},
		doMove: function (iTarget)
		{
			var oThis = this;
			clearInterval(oThis.timer);
			oThis.timer = setInterval(function () 
			{
				var iSpeed = (iTarget - oThis.oUl.offsetTop) / 5;
				iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);
				oThis.oUl.offsetTop == iTarget ? clearInterval(oThis.timer) : (oThis.oUl.style.top = oThis.oUl.offsetTop + iSpeed + "px")
			}, 30)	
		}
	};
	window.onload = function(){
		new AutoPlay("scroll");
	}
</script>
</body>
</html>