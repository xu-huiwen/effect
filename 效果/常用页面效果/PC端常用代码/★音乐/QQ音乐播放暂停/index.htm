<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>播放暂停QQ音乐</title>
<style>
body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td{margin:0;padding:0}
table{border-collapse:collapse;border-spacing:0}
address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:400}
ol,ul{list-style:none}
caption,th{text-align:left}
h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}
q:before,q:after{content:''}
fieldset,img,abbr,acronym{border:0}

.play,.pause {display:block;width:100px;height:100px;text-align:center;line-height:100px;border-radius:50%;margin:0 auto;color:#fff;}
.play {background-color:#0f0;}
.pause {background-color:#f00;}
</style>
</head>

<body id="body">
<a href="###" onclick="play('1',this)" class="play">播放</a><!-- js不能在href中，要不ie6有问题 -->
<a href="###" onclick="play('2',this)" class="play">播放</a>

<script src="http://imgcache.qq.com/music/miniplayer/music_player.js" charset="gb2312"></script>
<script>
//获取ID
function gE(e) {
    return (typeof (e) == "object") ? e : document.getElementById(e)
}

//获取类名
var GLOBAL = {};
GLOBAL.namespace = function (str) {
    var arr = str.split('.'),
        o = GLOBAL;
    for (i = (arr[0] == "GLOBAL") ? 1 : 0; i < arr.length; i++) {
        o[arr[i]] = o[arr[i]] || {};
        o = o[arr[i]];
    }
};
GLOBAL.namespace("Dom");
GLOBAL.Dom.getElementsByClassName = function (str, root, tag) {
    if (root) {
        root = (typeof root == "string") ? document.getElementById(root) : root;
    } else {
        root = document.body;
    }
    tag = tag || '*';
    var els = root.getElementsByTagName(tag),
        arr = [];
    for (var i = 0, leng = els.length; i < leng; i++) {
        var k = els[i].className.split(' ');
        for (j = 0, len = k.length; j < len; j++) {
            if (k[j] == str) {
                arr.push(els[i]);
                break;
            }
        }
    }
    return arr;
}

//切换类
function playClass() {
	var pause = GLOBAL.Dom.getElementsByClassName('pause');
	for ( var i=0; i<pause.length; i++ ) {
		pause[i].className = "play";
		pause[i].innerHTML = "播放";
	}
}

//切换类
function pauseClass(o) {
	o.className = "pause";
	o.innerHTML = "暂停";
}

//播放
function play(num,selfObj) {
	if (selfObj.className == 'pause') {
		playClass();
		try {
			pausePlayer();
		} catch (e) {}
	} else {
		playClass()
		pauseClass(selfObj);
		if (num == '1') {
            try {
                Qstop();
                playSong('浪漫惊喜主题曲', 'http://stream3.qqmusic.qq.com/12819647.wma', 12819647);
            } catch (e) {}
        }
        if (num == '2') {
            try {
                Qstop();
                playSong('就要K歌主题曲', 'http://stream7.qqmusic.qq.com/16720503.wma', 16720503);
            } catch (e) {}
        }
	}
}
</script>
</body>
</html>
