<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>����ʱ</title>
<style type="text/css">
body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,form,fieldset,input,textarea,p,blockquote,th,td{margin:0;padding:0}
table{border-collapse:collapse;border-spacing:0}
address,caption,cite,code,dfn,em,strong,th,var{font-style:normal;font-weight:400}
ol,ul{list-style:none}
caption,th{text-align:left}
h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:400}
q:before,q:after{content:''}
fieldset,img,abbr,acronym{border:0}

</style>
</head>

<body>
	<div id="left_time"><span id="t1"></span><span id="t2"></span>&emsp;<span id="m1"></span><span id="m2"></span>&emsp;<span id="s1"></span><span id="s2"></span></div>

<script type="text/javascript" src="http://apps.game.qq.com/CommArticle/app/reg/gdate.php"></script>
<script type="text/javascript">
function gId (id) {
	return document.getElementById(id)
}

function parseDate(str) {
    if (typeof str == 'string') {
        var results = str.match(/^ *(\d{4})-(\d{1,2})-(\d{1,2}) *$/);
        if (results && results.length > 3) return new Date(parseInt(results[1], 10), parseInt(results[2], 10) - 1, parseInt(results[3], 10));
        results = str.match(/^ *(\d{4})-(\d{1,2})-(\d{1,2}) +(\d{1,2}):(\d{1,2}):(\d{1,2}) *$/);
        if (results && results.length > 6) return new Date(parseInt(results[1], 10), (parseInt(results[2], 10) - 1), parseInt(results[3], 10), parseInt(results[4], 10), parseInt(results[5], 10), parseInt(results[6], 10));
        results = str.match(/^ *(\d{4})-(\d{1,2})-(\d{1,2}) +(\d{1,2}):(\d{1,2}):(\d{1,2})\.(\d{1,9}) *$/);
        if (results && results.length > 7) return new Date(parseInt(results[1], 10), parseInt(results[2], 10) - 1, parseInt(results[3], 10), parseInt(results[4], 10), parseInt(results[5], 10), parseInt(results[6], 10), parseInt(results[7], 10))
    }
    return null
}

var now = parseDate(json_curdate);
function ShowCountDown(deadline, divname) {
    var cc = gId(divname);
    var endDate = parseDate(deadline);
    if (endDate != null) {
        var leftTime = endDate.getTime() - now.getTime();
        if (leftTime > 0) {
            var leftsecond = parseInt(leftTime / 1000);
            var hour = Math.floor(leftsecond / 3600);
            var minute = Math.floor((leftsecond - hour * 3600) / 60);
            var second = Math.floor(leftsecond - hour * 3600 - minute * 60);
            if (cc != null) {
                String(minute).length == 1 ? minute = "0" + minute : "";
                String(second).length == 1 ? second = "0" + second : "";
                gId("t1").innerHTML = String(hour).substr(0, 1);
                gId("t2").innerHTML = String(hour).substr(1, 1);
                gId("m1").innerHTML = String(minute).substr(0, 1);
                gId("m2").innerHTML = String(minute).substr(1, 1);
                gId("s1").innerHTML = String(second).substr(0, 1);
                gId("s2").innerHTML = String(second).substr(1, 1)
            }
        }
    }
}


window.setInterval(function() {
    ShowCountDown('2017-12-13 23:00:00', 'left_time');
    now.setSeconds(now.getSeconds() + 1);
}, 1000);
</script>
</body>
</html>
